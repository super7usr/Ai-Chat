import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import path from "path";
import runtimeErrorOverlay from "@replit/vite-plugin-runtime-error-modal";

// Cloudflare Pages compatibility: Set correct base path
const isCloudflare = process.env.CF_PAGES === "1" || process.env.CF_PAGES_URL !== undefined;

export default defineConfig(async () => ({
  plugins: [
    react(),
    runtimeErrorOverlay(),
    ...(process.env.NODE_ENV !== "production" &&
    process.env.REPL_ID !== undefined
      ? [
          // dynamic import for plugin
          (await import("@replit/vite-plugin-cartographer")).cartographer(),
        ]
      : []),
  ],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "client", "src"),
      "@shared": path.resolve(__dirname, "shared"),
      "@assets": path.resolve(__dirname, "attached_assets"),
    },
  },
  root: path.resolve(__dirname, "client"),
  base: isCloudflare ? "/" : undefined, // important for CF Pages
  build: {
    outDir: path.resolve(__dirname, "dist/public"),
    emptyOutDir: true,
    assetsDir: "assets", // ensure static assets go in /dist/public/assets
    rollupOptions: {
      output: {
        entryFileNames: `assets/[name].[hash].js`,
        chunkFileNames: `assets/[name].[hash].js`,
        assetFileNames: `assets/[name].[hash][extname]`,
      },
    },
  },
  server: {
    port: 3000,
    // For previewing Cloudflare pages locally
    host: true,
    fs: {
      allow: [path.resolve(__dirname)],
    },
  },
  preview: {
    port: 4173,
    host: true,
  },
}));